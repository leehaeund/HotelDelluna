<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.jaeho.mybatis.mapper.NoticeMapper">
	
		<insert id="NoticeInsert" parameterType="NoticeDTO">
				INSERT INTO notice (b_title,b_detail,b_writer,b_date) VALUES (#{b_title},#{b_detail},#{b_writer},now())
		</insert>
		
		<select id="NoticeList" resultType="NoticeDTO" parameterType="hashMap">
				SELECT b_no,b_title,b_writer,b_date,b_count  FROM notice ORDER BY b_no DESC LIMIT #{start},#{end}
		</select>
		
		<update id="NoticeCountUpdate" parameterType="int">
				UPDATE notice SET b_count = b_count +1 WHERE b_no=#{b_no}
		</update>
		
		<select id="SelectNotice" resultType="NoticeDTO" parameterType="int">
				SELECT * FROM notice WHERE b_no = #{b_no}
		</select>
		
		<select id="SelectCount" resultType="int" parameterType="int">
		   		SELECT count(*) FROM notice 
		</select>
</mapper>